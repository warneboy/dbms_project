<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<title>Login | Commercial Platform</title>
<style>
*{box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#16315c;height:100vh;display:flex;align-items:center;justify-content:center}
.container{background:#fff;padding:30px;width:360px;border-radius:10px;box-shadow:0 10px 25px rgba(0,0,0,0.2)}
h2{text-align:center;margin-bottom:20px}
.input-group{margin-bottom:15px}
.input-group label{font-size:14px;display:block}
.input-group input{width:100%;padding:8px;margin-top:5px}
.login-btn{width:100%;padding:10px;background:#1e3c72;color:#fff;border:none;cursor:pointer;font-size:16px}
.login-btn:hover{background:#16315c}
.register{text-align:center;display:block;margin-top:15px;text-decoration:none;color:gray;font-size:14px}
.footer-text{text-align:center;font-size:12px;margin-top:15px;color:gray}
.error{color:red;text-align:center;margin-bottom:10px}
</style>
</head>
<body>
<div class="container">
<h2>Login</h2>
<p id="error" class="error"></p>
<form id="loginForm">
<div class="input-group">
<label>Email</label>
<input type="email" id="email" name="email" required>
</div>
<div class="input-group">
<label>Password</label>
<input type="password" id="password" name="password" required>
</div>
<button type="submit" class="login-btn">Login</button>
</form>
<a href="signup.html" class="register">Create a new account</a>
<p class="footer-text">Â© 2026 Commercial Platform</p>
</div>
<script>
document.getElementById("loginForm").addEventListener("submit", async function(e){
e.preventDefault();
const email=document.getElementById("email").value;
const password=document.getElementById("password").value;
const error=document.getElementById("error");
error.textContent="";
try{
const res=await fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email,password})});
const data=await res.json();
if(!res.ok){error.textContent=data.message;return;}
localStorage.setItem("token",data.token);
localStorage.setItem("role",data.role);
alert(`Login successful as ${data.role}`);
}catch(err){error.textContent="Server error. Try again.";}
});
</script>
</body>
</html>
